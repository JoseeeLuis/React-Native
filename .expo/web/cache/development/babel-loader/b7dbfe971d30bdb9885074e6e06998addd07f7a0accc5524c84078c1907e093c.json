{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _jsxFileName = \"/Users/gm2academy/React-Native/node_modules/react-native-view-shot/src/index.js\";\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { Component } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport findNodeHandle from \"react-native-web/dist/exports/findNodeHandle\";\nimport { StyleProp } from \"react-native-web/dist/index\";\nimport RNViewShot from \"./RNViewShot\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar neverEndingPromise = new Promise(function () {});\nif (!RNViewShot) {\n  console.warn(\"react-native-view-shot: NativeModules.RNViewShot is undefined. Make sure the library is linked on the native side.\");\n}\nvar acceptedFormats = [\"png\", \"jpg\"].concat(Platform.OS === \"android\" ? [\"webm\", \"raw\"] : []);\nvar acceptedResults = [\"tmpfile\", \"base64\", \"data-uri\"].concat(Platform.OS === \"android\" ? [\"zip-base64\"] : []);\nvar defaultOptions = {\n  format: \"png\",\n  quality: 1,\n  result: \"tmpfile\",\n  snapshotContentContainer: false,\n  handleGLSurfaceViewOnAndroid: false\n};\nfunction validateOptions(input) {\n  var options = _objectSpread(_objectSpread({}, defaultOptions), input);\n  var errors = [];\n  if (\"width\" in options && (typeof options.width !== \"number\" || options.width <= 0)) {\n    errors.push(\"option width should be a positive number\");\n    delete options.width;\n  }\n  if (\"height\" in options && (typeof options.height !== \"number\" || options.height <= 0)) {\n    errors.push(\"option height should be a positive number\");\n    delete options.height;\n  }\n  if (typeof options.quality !== \"number\" || options.quality < 0 || options.quality > 1) {\n    errors.push(\"option quality should be a number between 0.0 and 1.0\");\n    options.quality = defaultOptions.quality;\n  }\n  if (typeof options.snapshotContentContainer !== \"boolean\") {\n    errors.push(\"option snapshotContentContainer should be a boolean\");\n  }\n  if (typeof options.handleGLSurfaceViewOnAndroid !== \"boolean\") {\n    errors.push(\"option handleGLSurfaceViewOnAndroid should be a boolean\");\n  }\n  if (acceptedFormats.indexOf(options.format) === -1) {\n    options.format = defaultOptions.format;\n    errors.push(\"option format '\" + options.format + \"' is not in valid formats: \" + acceptedFormats.join(\" | \"));\n  }\n  if (acceptedResults.indexOf(options.result) === -1) {\n    options.result = defaultOptions.result;\n    errors.push(\"option result '\" + options.result + \"' is not in valid formats: \" + acceptedResults.join(\" | \"));\n  }\n  return {\n    options: options,\n    errors: errors\n  };\n}\nexport function ensureModuleIsLoaded() {\n  if (!RNViewShot) {\n    throw new Error(\"react-native-view-shot: NativeModules.RNViewShot is undefined. Make sure the library is linked on the native side.\");\n  }\n}\nexport function captureRef(view, optionsObject) {\n  ensureModuleIsLoaded();\n  if (view && typeof view === \"object\" && \"current\" in view && view.current) {\n    view = view.current;\n    if (!view) {\n      return Promise.reject(new Error(\"ref.current is null\"));\n    }\n  }\n  if (typeof view !== \"number\") {\n    var node = findNodeHandle(view);\n    if (!node) {\n      return Promise.reject(new Error(\"findNodeHandle failed to resolve view=\" + String(view)));\n    }\n    view = node;\n  }\n  var _validateOptions = validateOptions(optionsObject),\n    options = _validateOptions.options,\n    errors = _validateOptions.errors;\n  if (__DEV__ && errors.length > 0) {\n    console.warn(\"react-native-view-shot: bad options:\\n\" + errors.map(function (e) {\n      return `- ${e}`;\n    }).join(\"\\n\"));\n  }\n  return RNViewShot.captureRef(view, options);\n}\nexport function releaseCapture(uri) {\n  if (typeof uri !== \"string\") {\n    if (__DEV__) {\n      console.warn(\"Invalid argument to releaseCapture. Got: \" + uri);\n    }\n  } else {\n    RNViewShot.releaseCapture(uri);\n  }\n}\nexport function captureScreen(optionsObject) {\n  ensureModuleIsLoaded();\n  var _validateOptions2 = validateOptions(optionsObject),\n    options = _validateOptions2.options,\n    errors = _validateOptions2.errors;\n  if (__DEV__ && errors.length > 0) {\n    console.warn(\"react-native-view-shot: bad options:\\n\" + errors.map(function (e) {\n      return `- ${e}`;\n    }).join(\"\\n\"));\n  }\n  return RNViewShot.captureScreen(options);\n}\nfunction checkCompatibleProps(props) {\n  if (!props.captureMode && props.onCapture) {} else if (props.captureMode && !props.onCapture) {\n    console.warn(\"react-native-view-shot: captureMode prop is defined but onCapture prop callback is missing\");\n  } else if ((props.captureMode === \"continuous\" || props.captureMode === \"update\") && props.options && props.options.result && props.options.result !== \"tmpfile\") {\n    console.warn(\"react-native-view-shot: result=tmpfile is recommended for captureMode=\" + props.captureMode);\n  }\n}\nvar ViewShot = function (_Component) {\n  _inherits(ViewShot, _Component);\n  function ViewShot() {\n    var _this;\n    _classCallCheck(this, ViewShot);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _callSuper(this, ViewShot, [].concat(args));\n    _this.firstLayoutPromise = new Promise(function (resolve) {\n      _this.resolveFirstLayout = resolve;\n    });\n    _this.capture = function () {\n      return _this.firstLayoutPromise.then(function () {\n        var _assertThisInitialize = _assertThisInitialized(_this),\n          root = _assertThisInitialize.root;\n        if (!root) return neverEndingPromise;\n        return captureRef(root, _this.props.options);\n      }).then(function (uri) {\n        _this.onCapture(uri);\n        return uri;\n      }, function (e) {\n        _this.onCaptureFailure(e);\n        throw e;\n      });\n    };\n    _this.onCapture = function (uri) {\n      if (!_this.root) return;\n      if (_this.lastCapturedURI) {\n        setTimeout(releaseCapture, 500, _this.lastCapturedURI);\n      }\n      _this.lastCapturedURI = uri;\n      var onCapture = _this.props.onCapture;\n      if (onCapture) onCapture(uri);\n    };\n    _this.onCaptureFailure = function (e) {\n      if (!_this.root) return;\n      var onCaptureFailure = _this.props.onCaptureFailure;\n      if (onCaptureFailure) onCaptureFailure(e);\n    };\n    _this.syncCaptureLoop = function (captureMode) {\n      cancelAnimationFrame(_this._raf);\n      if (captureMode === \"continuous\") {\n        var previousCaptureURI = \"-\";\n        var loop = function loop() {\n          _this._raf = requestAnimationFrame(loop);\n          if (previousCaptureURI === _this.lastCapturedURI) return;\n          previousCaptureURI = _this.lastCapturedURI;\n          _this.capture();\n        };\n        _this._raf = requestAnimationFrame(loop);\n      }\n    };\n    _this.onRef = function (ref) {\n      _this.root = ref;\n    };\n    _this.onLayout = function (e) {\n      var onLayout = _this.props.onLayout;\n      _this.resolveFirstLayout(e.nativeEvent.layout);\n      if (onLayout) onLayout(e);\n    };\n    return _this;\n  }\n  _createClass(ViewShot, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (__DEV__) checkCompatibleProps(this.props);\n      if (this.props.captureMode === \"mount\") {\n        this.capture();\n      } else {\n        this.syncCaptureLoop(this.props.captureMode);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.captureMode !== undefined) {\n        if (this.props.captureMode !== prevProps.captureMode) {\n          this.syncCaptureLoop(this.props.captureMode);\n        }\n      }\n      if (this.props.captureMode === \"update\") {\n        this.capture();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.syncCaptureLoop(null);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var children = this.props.children;\n      return _jsxDEV(View, {\n        ref: this.onRef,\n        collapsable: false,\n        onLayout: this.onLayout,\n        style: this.props.style,\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n  return ViewShot;\n}(Component);\nViewShot.captureRef = captureRef;\nViewShot.releaseCapture = releaseCapture;\nexport { ViewShot as default };","map":{"version":3,"names":["React","Component","View","Platform","findNodeHandle","StyleProp","RNViewShot","jsxDEV","_jsxDEV","neverEndingPromise","Promise","console","warn","acceptedFormats","concat","OS","acceptedResults","defaultOptions","format","quality","result","snapshotContentContainer","handleGLSurfaceViewOnAndroid","validateOptions","input","options","_objectSpread","errors","width","push","height","indexOf","join","ensureModuleIsLoaded","Error","captureRef","view","optionsObject","current","reject","node","String","_validateOptions","__DEV__","length","map","e","releaseCapture","uri","captureScreen","_validateOptions2","checkCompatibleProps","props","captureMode","onCapture","ViewShot","_Component","_inherits","_this","_classCallCheck","_len","arguments","args","Array","_key","_callSuper","firstLayoutPromise","resolve","resolveFirstLayout","capture","then","_assertThisInitialize","_assertThisInitialized","root","onCaptureFailure","lastCapturedURI","setTimeout","syncCaptureLoop","cancelAnimationFrame","_raf","previousCaptureURI","loop","requestAnimationFrame","onRef","ref","onLayout","nativeEvent","layout","_createClass","key","value","componentDidMount","componentDidUpdate","prevProps","undefined","componentWillUnmount","render","children","collapsable","style","fileName","_jsxFileName","lineNumber","columnNumber","default"],"sources":["/Users/gm2academy/React-Native/node_modules/react-native-view-shot/src/index.js"],"sourcesContent":["// @flow\nimport React, { Component } from \"react\";\nimport { View, Platform, findNodeHandle, StyleProp } from \"react-native\";\nimport RNViewShot from \"./RNViewShot\";\nimport type { ViewStyleProp } from \"react-native/Libraries/StyleSheet/StyleSheet\";\nimport type { LayoutEvent } from \"react-native/Libraries/Types/CoreEventTypes\";\n\nconst neverEndingPromise = new Promise(() => {});\n\ntype Options = {\n  width?: number,\n  height?: number,\n  format: \"png\" | \"jpg\" | \"webm\" | \"raw\",\n  quality: number,\n  result: \"tmpfile\" | \"base64\" | \"data-uri\" | \"zip-base64\",\n  snapshotContentContainer: boolean,\n  handleGLSurfaceViewOnAndroid: boolean,\n};\n\nif (!RNViewShot) {\n  console.warn(\n    \"react-native-view-shot: NativeModules.RNViewShot is undefined. Make sure the library is linked on the native side.\"\n  );\n}\n\nconst acceptedFormats = [\"png\", \"jpg\"].concat(\n  Platform.OS === \"android\" ? [\"webm\", \"raw\"] : []\n);\n\nconst acceptedResults = [\"tmpfile\", \"base64\", \"data-uri\"].concat(\n  Platform.OS === \"android\" ? [\"zip-base64\"] : []\n);\n\nconst defaultOptions = {\n  format: \"png\",\n  quality: 1,\n  result: \"tmpfile\",\n  snapshotContentContainer: false,\n  handleGLSurfaceViewOnAndroid: false,\n};\n\n// validate and coerce options\nfunction validateOptions(input: ?$Shape<Options>): {\n  options: Options,\n  errors: Array<string>,\n} {\n  const options: Options = {\n    ...defaultOptions,\n    ...input,\n  };\n  const errors = [];\n  if (\n    \"width\" in options &&\n    (typeof options.width !== \"number\" || options.width <= 0)\n  ) {\n    errors.push(\"option width should be a positive number\");\n    delete options.width;\n  }\n  if (\n    \"height\" in options &&\n    (typeof options.height !== \"number\" || options.height <= 0)\n  ) {\n    errors.push(\"option height should be a positive number\");\n    delete options.height;\n  }\n  if (\n    typeof options.quality !== \"number\" ||\n    options.quality < 0 ||\n    options.quality > 1\n  ) {\n    errors.push(\"option quality should be a number between 0.0 and 1.0\");\n    options.quality = defaultOptions.quality;\n  }\n  if (typeof options.snapshotContentContainer !== \"boolean\") {\n    errors.push(\"option snapshotContentContainer should be a boolean\");\n  }\n  if (typeof options.handleGLSurfaceViewOnAndroid !== \"boolean\") {\n    errors.push(\"option handleGLSurfaceViewOnAndroid should be a boolean\");\n  }\n  if (acceptedFormats.indexOf(options.format) === -1) {\n    options.format = defaultOptions.format;\n    errors.push(\n      \"option format '\" +\n        options.format +\n        \"' is not in valid formats: \" +\n        acceptedFormats.join(\" | \")\n    );\n  }\n  if (acceptedResults.indexOf(options.result) === -1) {\n    options.result = defaultOptions.result;\n    errors.push(\n      \"option result '\" +\n        options.result +\n        \"' is not in valid formats: \" +\n        acceptedResults.join(\" | \")\n    );\n  }\n  return { options, errors };\n}\n\nexport function ensureModuleIsLoaded() {\n  if (!RNViewShot) {\n    throw new Error(\n      \"react-native-view-shot: NativeModules.RNViewShot is undefined. Make sure the library is linked on the native side.\"\n    );\n  }\n}\n\nexport function captureRef<T: React$ElementType>(\n  view: number | ?View | React$Ref<T>,\n  optionsObject?: Object\n): Promise<string> {\n  ensureModuleIsLoaded();\n  if (\n    view &&\n    typeof view === \"object\" &&\n    \"current\" in view &&\n    // $FlowFixMe view is a ref\n    view.current\n  ) {\n    // $FlowFixMe view is a ref\n    view = view.current;\n    if (!view) {\n      return Promise.reject(new Error(\"ref.current is null\"));\n    }\n  }\n  if (typeof view !== \"number\") {\n    const node = findNodeHandle(view);\n    if (!node) {\n      return Promise.reject(\n        new Error(\"findNodeHandle failed to resolve view=\" + String(view))\n      );\n    }\n    view = node;\n  }\n  const { options, errors } = validateOptions(optionsObject);\n  if (__DEV__ && errors.length > 0) {\n    console.warn(\n      \"react-native-view-shot: bad options:\\n\" +\n        errors.map((e) => `- ${e}`).join(\"\\n\")\n    );\n  }\n  return RNViewShot.captureRef(view, options);\n}\n\nexport function releaseCapture(uri: string): void {\n  if (typeof uri !== \"string\") {\n    if (__DEV__) {\n      console.warn(\"Invalid argument to releaseCapture. Got: \" + uri);\n    }\n  } else {\n    RNViewShot.releaseCapture(uri);\n  }\n}\n\nexport function captureScreen(optionsObject?: Options): Promise<string> {\n  ensureModuleIsLoaded();\n  const { options, errors } = validateOptions(optionsObject);\n  if (__DEV__ && errors.length > 0) {\n    console.warn(\n      \"react-native-view-shot: bad options:\\n\" +\n        errors.map((e) => `- ${e}`).join(\"\\n\")\n    );\n  }\n  return RNViewShot.captureScreen(options);\n}\n\ntype Props = {\n  options?: Object,\n  captureMode?: \"mount\" | \"continuous\" | \"update\",\n  children: React$Node,\n  onLayout?: (e: *) => void,\n  onCapture?: (uri: string) => void,\n  onCaptureFailure?: (e: Error) => void,\n  style?: StyleProp<ViewStyleProp>,\n};\n\nfunction checkCompatibleProps(props: Props) {\n  if (!props.captureMode && props.onCapture) {\n    // in that case, it's authorized if you call capture() yourself\n  } else if (props.captureMode && !props.onCapture) {\n    console.warn(\n      \"react-native-view-shot: captureMode prop is defined but onCapture prop callback is missing\"\n    );\n  } else if (\n    (props.captureMode === \"continuous\" || props.captureMode === \"update\") &&\n    props.options &&\n    props.options.result &&\n    props.options.result !== \"tmpfile\"\n  ) {\n    console.warn(\n      \"react-native-view-shot: result=tmpfile is recommended for captureMode=\" +\n        props.captureMode\n    );\n  }\n}\n\nexport default class ViewShot extends Component<Props> {\n  static captureRef = captureRef;\n  static releaseCapture = releaseCapture;\n\n  root: ?View;\n\n  _raf: *;\n  lastCapturedURI: ?string;\n\n  resolveFirstLayout: (layout: Object) => void;\n  firstLayoutPromise: Promise<Object> = new Promise((resolve) => {\n    this.resolveFirstLayout = resolve;\n  });\n\n  capture = (): Promise<string> =>\n    this.firstLayoutPromise\n      .then(() => {\n        const { root } = this;\n        if (!root) return neverEndingPromise; // component is unmounted, you never want to hear back from the promise\n        return captureRef(root, this.props.options);\n      })\n      .then(\n        (uri: string) => {\n          this.onCapture(uri);\n          return uri;\n        },\n        (e: Error) => {\n          this.onCaptureFailure(e);\n          throw e;\n        }\n      );\n\n  onCapture = (uri: string) => {\n    if (!this.root) return;\n    if (this.lastCapturedURI) {\n      // schedule releasing the previous capture\n      setTimeout(releaseCapture, 500, this.lastCapturedURI);\n    }\n    this.lastCapturedURI = uri;\n    const { onCapture } = this.props;\n    if (onCapture) onCapture(uri);\n  };\n\n  onCaptureFailure = (e: Error) => {\n    if (!this.root) return;\n    const { onCaptureFailure } = this.props;\n    if (onCaptureFailure) onCaptureFailure(e);\n  };\n\n  syncCaptureLoop = (captureMode: ?string) => {\n    cancelAnimationFrame(this._raf);\n    if (captureMode === \"continuous\") {\n      let previousCaptureURI = \"-\"; // needs to capture at least once at first, so we use \"-\" arbitrary string\n      const loop = () => {\n        this._raf = requestAnimationFrame(loop);\n        if (previousCaptureURI === this.lastCapturedURI) return; // previous capture has not finished, don't capture yet\n        previousCaptureURI = this.lastCapturedURI;\n        this.capture();\n      };\n      this._raf = requestAnimationFrame(loop);\n    }\n  };\n\n  onRef = (ref: React$ElementRef<*>) => {\n    this.root = ref;\n  };\n\n  onLayout = (e: LayoutEvent) => {\n    const { onLayout } = this.props;\n    this.resolveFirstLayout(e.nativeEvent.layout);\n    if (onLayout) onLayout(e);\n  };\n\n  componentDidMount() {\n    if (__DEV__) checkCompatibleProps(this.props);\n    if (this.props.captureMode === \"mount\") {\n      this.capture();\n    } else {\n      this.syncCaptureLoop(this.props.captureMode);\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.captureMode !== undefined) {\n      if (this.props.captureMode !== prevProps.captureMode) {\n        this.syncCaptureLoop(this.props.captureMode);\n      }\n    }\n    if (this.props.captureMode === \"update\") {\n      this.capture();\n    }\n  }\n\n  componentWillUnmount() {\n    this.syncCaptureLoop(null);\n  }\n\n  render() {\n    const { children } = this.props;\n    return (\n      <View\n        ref={this.onRef}\n        collapsable={false}\n        onLayout={this.onLayout}\n        style={this.props.style}\n      >\n        {children}\n      </View>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}